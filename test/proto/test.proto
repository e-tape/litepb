syntax = "proto3";

package test;

option go_package = "generated/test";

import "test2.proto";
import "test3.proto";

// Test message
message Test {
  // ID
  int32 id = 1;
  // Name
  string name = 2;

  test2.Ok ok2 = 3;
  test3.Ok ok3 = 4;

  test3.Ok.Status status = 5;

  map<string, Foo> kv = 6;

  // Inner message TEST
  message Inner {
    // Inner text
    string text = 2;
  }
}

// Foo message
message Foo {
  // ID
  //    Test 123
  //Ok
  int64 id = 1; // Deprecated
  // Bars list
  repeated Bar bars = 2;
  // The bar
  Bar bar = 3;

  Status status = 4;

  // Status of FOO
  enum Status {
    OK = 0;
    ERROR = 1;
  }

  // Inner message
  message Inner {
    // Inner text
    string text = 2;
  }
}

message Bar {
  string text = 1;
  bool done = 2;
  // Numbers
  repeated int32 numbers = 3;
}
