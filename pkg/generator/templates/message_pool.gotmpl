{{- define "message_pool" -}}
    {{- /*gotype: github.com/e-tape/litepb/pkg/plugin.Message*/ -}}
    {{- if .GetWithMemPool -}}
        {{ template "pool_type_name" dict "msg" . }} = &sync.Pool{
        New: func() any { return {{ template "message_constructor" . }} },
        }
    {{ end -}}
{{- end -}}